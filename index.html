<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ISO 14064-1 æ¸¬é©—å¹³å° (æ‰‹æ©Ÿå„ªåŒ–ç‰ˆ v3.1)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Microsoft JhengHei";
            background-color: #f0f9ff;
            -webkit-tap-highlight-color: transparent; /* Remove blue highlight on tap */
        }
        .animate-slide-up {
            animation: slideUp 0.4s ease-out;
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Hide scrollbar but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Icons (SVG) ---
        const Icon = ({ children, className, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>{children}</svg>
        );
        const Download = (props) => <Icon {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></Icon>;
        const Upload = (props) => <Icon {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></Icon>;
        const UserIcon = (props) => <Icon {...props}><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></Icon>;
        const ChevronLeft = (props) => <Icon {...props}><polyline points="15 18 9 12 15 6"/></Icon>;
        const CheckCircle = (props) => <Icon {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></Icon>;
        const AlertCircle = (props) => <Icon {...props}><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></Icon>;

        // --- å®Œæ•´é¡Œåº« (75é¡Œ) ---
        const FULL_QUESTION_BANK = [
             // ç°¡å–® (Simple) 1-25
            { id: 1, level: 'simple', type: 'ç†è«–', question: 'æ ¹æ“š ISO 14064-1 æ¨™æº–ï¼ŒæŸ¥è­‰ï¼ˆverificationï¼‰çš„å®šç¾©ç‚ºä½•ï¼Ÿ', options: ['A. å°ˆæ³¨æ–¼æ¸›å°‘æº«å®¤æ°£é«”æ’æ”¾é‡', 'B. å°ç…§å”è­°çš„æŸ¥è­‰æº–å‰‡ï¼Œè©•ä¼°æº«å®¤æ°£é«”ä¸»å¼µçš„æ•¸æ“šèˆ‡å“è³ªåˆç†æ€§', 'C. ç¢ºèªæœªä¾†ç‡Ÿé‹è¨ˆç•«çš„åˆç†æ€§', 'D. åƒ…é™æ–¼å¤–éƒ¨ç¨ç«‹åœ˜é«”åŸ·è¡Œ'], answer: 'B', explanation: 'æŸ¥è­‰æ˜¯è©•ä¼°æº«å®¤æ°£é«”ä¸»å¼µä¹‹æ•¸æ“šèˆ‡å“è³ªåˆç†æ€§çš„ç³»çµ±åŒ–éç¨‹ã€‚' },
            { id: 2, level: 'simple', type: 'ç†è«–', question: 'ISO 14064-1 æº«å®¤æ°£é«”ç›¤æŸ¥çš„äº”å¤§åŸå‰‡ä¸­ï¼Œè¦æ±‚ã€Œå¯¦å‹™ä¸Šå„˜å¯èƒ½æ¸›å°‘åå·®èˆ‡ä¸ç¢ºå®šæ€§ã€çš„æ˜¯å“ªä¸€é …ï¼Ÿ', options: ['A. ç›¸é—œæ€§', 'B. å®Œæ•´æ€§', 'C. æº–ç¢ºåº¦', 'D. é€æ˜åº¦'], answer: 'C', explanation: 'æº–ç¢ºåº¦ï¼ˆAccuracyï¼‰åŸå‰‡è¦æ±‚å„˜å¯èƒ½æ¸›å°‘åå·®èˆ‡ä¸ç¢ºå®šæ€§ã€‚' },
            { id: 3, level: 'simple', type: 'ç†è«–', question: 'æ ¹æ“š ISO 14064-1 æ¨™æº–ï¼Œé¡åˆ¥ 1ï¼ˆç¯„ç–‡ä¸€ï¼‰ç›´æ¥æº«å®¤æ°£é«”æ’æ”¾çš„å®šç¾©æ˜¯ï¼Ÿ', options: ['A. ç”±å¤–è³¼é›»åŠ›æˆ–è’¸æ±½ç”¢ç”Ÿçš„æ’æ”¾', 'B. ä¾†è‡ªçµ„ç¹”æ‰€æ“æœ‰æˆ–æ§åˆ¶çš„æº«å®¤æ°£é«”æºä¹‹æ’æ”¾', 'C. ç”±å“¡å·¥é€šå‹¤æˆ–å•†å‹™æ—…é‹ç”¢ç”Ÿçš„æ’æ”¾', 'D. ç”±ä¾›æ‡‰éˆé‹è¼¸ç”¢ç”Ÿçš„æ’æ”¾'], answer: 'B', explanation: 'é¡åˆ¥ 1 ç‚ºçµ„ç¹”æ“æœ‰æˆ–æ§åˆ¶çš„ç›´æ¥æ’æ”¾ã€‚' },
            { id: 4, level: 'simple', type: 'ç†è«–', question: 'Aå…¬å¸å¤–è³¼å°é›»é›»åŠ›æ‰€ç”¢ç”Ÿçš„æº«å®¤æ°£é«”æ’æ”¾ï¼Œæ‡‰æ­¸é¡ç‚º ISO 14064-1 çš„å“ªä¸€é¡åˆ¥ï¼Ÿ', options: ['A. é¡åˆ¥ 1ï¼šç›´æ¥æ’æ”¾', 'B. é¡åˆ¥ 2ï¼šè¼¸å…¥èƒ½æºçš„é–“æ¥æ’æ”¾', 'C. é¡åˆ¥ 3ï¼šé‹è¼¸çš„é–“æ¥æ’æ”¾', 'D. é¡åˆ¥ 4ï¼šçµ„ç¹”ä½¿ç”¨ç”¢å“çš„é–“æ¥æ’æ”¾'], answer: 'B', explanation: 'å¤–è³¼é›»åŠ›å±¬æ–¼é¡åˆ¥ 2ï¼ˆè¼¸å…¥èƒ½æºçš„é–“æ¥æ’æ”¾ï¼‰ã€‚' },
            { id: 5, level: 'simple', type: 'ç†è«–', question: 'é¡åˆ¥ 3ï¼ˆç¯„ç–‡ä¸‰ï¼‰é–“æ¥æº«å®¤æ°£é«”æ’æ”¾ä¸»è¦èˆ‡ä¸‹åˆ—å“ªé …æ´»å‹•ç›¸é—œï¼Ÿ', options: ['A. å›ºå®šå¼ç‡ƒç‡’æº', 'B. è¼¸å…¥èƒ½æº', 'C. é‹è¼¸', 'D. é€¸æ•£æ€§æ’æ”¾æº'], answer: 'C', explanation: 'é¡åˆ¥ 3 æ˜¯ç”±é‹è¼¸ç”¢ç”Ÿçš„é–“æ¥æ’æ”¾ã€‚' },
            { id: 6, level: 'simple', type: 'ç†è«–', question: 'æº«å®¤æ°£é«”æ’æ”¾é‡çš„é‡åŒ–è¨ˆç®—ä¸­ï¼Œæ´»å‹•æ•¸æ“šä¹˜ä»¥æ’æ”¾ä¿‚æ•¸å¾Œï¼Œé‚„éœ€ä¹˜ä»¥å“ªå€‹æ•¸å€¼æ‰èƒ½æ›ç®—æˆäºŒæ°§åŒ–ç¢³ç•¶é‡ï¼ˆCO2eï¼‰ï¼Ÿ', options: ['A. ç¢³æ°§åŒ–ç‡', 'B. å…¨çƒæš–åŒ–æ½›å‹¢ï¼ˆGWPï¼‰', 'C. æ·¨ç†±å€¼ï¼ˆNCVï¼‰', 'D. ç”¢é‡æ•¸æ“š'], answer: 'B', explanation: 'éœ€ä¹˜ä»¥ GWP å€¼å°‡å„ç¨®æ°£é«”è½‰æ›ç‚º CO2eã€‚' },
            { id: 7, level: 'simple', type: 'ç†è«–', question: 'æŸ¥è­‰æº–å‰‡æ‡‰æ¶µè“‹å“ªäº›é …ç›®ï¼Ÿ', options: ['A. åœ‹éš› ISO 14064 æ¨™æº–ã€æ”¿åºœè¦æ±‚è¦ç¯„ã€å…¬å¸å…§éƒ¨ç®¡ç†è¦å®š', 'B. æº«å®¤æ°£é«”æ¸›é‡å°ˆæ¡ˆæ–¹æ³•å­¸', 'C. ç¢³äº¤æ˜“å¸‚å ´è¦ç¯„', 'D. åœ‹éš›æ°£å€™è®Šé·å…¬ç´„'], answer: 'A', explanation: 'æŸ¥è­‰æº–å‰‡åŒ…æ‹¬åœ‹éš›æ¨™æº–ã€æ³•è¦åŠå…§éƒ¨è¦å®šã€‚' },
            { id: 8, level: 'simple', type: 'ç†è«–', question: 'ISO 14064-1 çš„ã€Œå®Œæ•´æ€§ã€åŸå‰‡è¦æ±‚çµ„ç¹”å¿…é ˆåšåˆ°ä»€éº¼ï¼Ÿ', options: ['A. æ­éœ²å……åˆ†ä¸”é©ç•¶çš„è³‡è¨Š', 'B. å¯¦å‹™ä¸Šå„˜å¯èƒ½æ¸›å°‘ä¸ç¢ºå®šæ€§', 'C. ç´å…¥æ‰€æœ‰ç›¸é—œçš„æº«å®¤æ°£é«”æ’æ”¾èˆ‡ç§»é™¤', 'D. é¸æ“‡èˆ‡é æœŸä½¿ç”¨è€…éœ€æ±‚ç›¸é—œçš„æ•¸æ“š'], answer: 'C', explanation: 'å®Œæ•´æ€§è¦æ±‚ç´å…¥æ‰€æœ‰ç›¸é—œçš„æ’æ”¾èˆ‡ç§»é™¤ã€‚' },
            { id: 9, level: 'simple', type: 'å¯¦å‹™', question: 'é€²è¡Œ ISO 14064-1 å…§éƒ¨æŸ¥è­‰æ™‚ï¼ŒæŸ¥è­‰äººå“¡æ‡‰ä¾æ“šä½•ç¨®æ–‡ä»¶é€²è¡Œè¦åŠƒå’ŒåŸ·è¡Œï¼Ÿ', options: ['A. å…¬å¸çš„å¹´åº¦è²¡å‹™å ±å‘Š', 'B. ç«¶çˆ­å°æ‰‹çš„æº«å®¤æ°£é«”å ±å‘Š', 'C. æ“¬å®šçš„å…§éƒ¨æŸ¥è­‰è¨ˆç•«', 'D. ç’°å¢ƒéƒ¨æœ€æ–°ç™¼å¸ƒçš„æŸ¥é©—æŒ‡å¼•'], answer: 'C', explanation: 'æŸ¥è­‰å·¥ä½œæ‡‰ä¾æ“šã€Œå…§éƒ¨æŸ¥è­‰è¨ˆç•«ã€åŸ·è¡Œã€‚' },
            { id: 10, level: 'simple', type: 'å¯¦å‹™', question: 'Aå…¬å¸å·¥å» å…§å…¬å‹™è»Šä½¿ç”¨æ±½æ²¹æˆ–æŸ´æ²¹ç”¢ç”Ÿçš„æ’æ”¾ï¼Œå±¬æ–¼å“ªä¸€é¡æ’æ”¾å‹å¼ï¼Ÿ', options: ['A. å›ºå®šç‡ƒç‡’æ’æ”¾æº', 'B. è£½ç¨‹æ’æ”¾æº', 'C. ç§»å‹•ç‡ƒç‡’æ’æ”¾æº', 'D. é€¸æ•£æ’æ”¾æº'], answer: 'C', explanation: 'å…¬å‹™è»Šç‡ƒæ–™ç‡ƒç‡’å±¬æ–¼ç§»å‹•å¼ç‡ƒç‡’æºã€‚' },
            { id: 11, level: 'simple', type: 'å¯¦å‹™', question: 'æŸ¥è­‰éç¨‹ä¸­ç™¼ç¾ä¸ç¬¦åˆäº‹é …ï¼Œæ‡‰å¦‚ä½•è™•ç†ï¼Ÿ', options: ['A. å°‡å…¶æ’é™¤æ–¼å ±å‘Šä¹‹å¤–', 'B. è¨˜éŒ„ä¸¦æå‡ºç³¾æ­£æªæ–½å»ºè­°', 'C. åƒ…é‡å°é‡å¤§å•é¡Œé€²è¡Œè™•ç†', 'D. ç­‰å¾…å¤–éƒ¨å¯©æ ¸æ™‚è§£æ±º'], answer: 'B', explanation: 'æ‡‰é–‹ç«‹æŸ¥è­‰ç¼ºé»åŠçŸ¯æ­£è™•ç†å–®ã€‚' },
            { id: 12, level: 'simple', type: 'å¯¦å‹™', question: 'Aå…¬å¸å·¥å» é€²è¡Œå…§éƒ¨æŸ¥è­‰æ™‚ï¼ŒæŸ¥è­‰äººå“¡æ‡‰å…·å‚™çš„åŸºæœ¬èªçŸ¥ä¹‹ä¸€æ˜¯ï¼Ÿ', options: ['A. å…·å‚™é«˜éšæœƒè¨ˆè³‡æ ¼', 'B. ç­è§£æº«å®¤æ°£é«”æŸ¥è­‰ä¹‹ä½œæ¥­æµç¨‹', 'C. æ“æœ‰è±å¯Œçš„åœ‹éš›è²¿æ˜“çŸ¥è­˜', 'D. å°æ‰€æœ‰éƒ¨é–€çš„å·¥ä½œè·è²¬æœ‰æ·±å…¥äº†è§£'], answer: 'B', explanation: 'æŸ¥è­‰äººå“¡éœ€ç­è§£æŸ¥è­‰ä½œæ¥­æµç¨‹ã€‚' },
            { id: 13, level: 'simple', type: 'å¯¦å‹™', question: 'ä½¿ç”¨è‡ªå» æª¢æ¸¬çš„ç†±å€¼æˆ–ç¢³å«é‡ï¼Œå¿…é ˆç¢ºèªæª¢æ¸¬å¯¦é©—å®¤ç¬¦åˆå“ªå€‹æ¨™æº–ï¼Ÿ', options: ['A. ISO 9001', 'B. CNS 17025 æˆ– ISO/IEC 17025', 'C. ISO 14064-1', 'D. ISO 50001'], answer: 'B', explanation: 'æ‡‰ç”±å–å¾— ISO/IEC 17025 èªè­‰ä¹‹å¯¦é©—å®¤æä¾›ã€‚' },
            { id: 14, level: 'simple', type: 'å¯¦å‹™', question: 'ä»¥ä¸‹ä½•è€…æœ€æœ‰åŠ©æ–¼ç¢ºèªé›»åŠ›ä½¿ç”¨æ•¸æ“šæº–ç¢ºæ€§ï¼Ÿ', options: ['A. å» å€å®‰å…¨æ‰‹å†Š', 'B. å“¡å·¥è–ªè³‡è¨˜éŒ„', 'C. èƒ½æºä½¿ç”¨è¨ˆè²»å–®ï¼ˆé›»è²»å–®ï¼‰', 'D. å¸‚å ´ä¾›æ‡‰å ±è¡¨'], answer: 'C', explanation: 'é›»è²»å–®æ˜¯ç¢ºèªé›»åŠ›æ•¸æ“šçš„æ–‡ä»¶æ€§è­‰æ“šã€‚' },
            { id: 15, level: 'simple', type: 'å¯¦å‹™', question: 'æŸ¥è­‰äººå“¡é‡å°é‡æ¸¬è¨­å‚™é€²è¡Œç›´æ¥è§€å¯Ÿï¼Œæ‰€è’é›†åˆ°çš„è­‰æ“šé¡å‹æ˜¯ä»€éº¼ï¼Ÿ', options: ['A. è­‰è©æ€§è­‰æ“š', 'B. æ–‡ä»¶æ€§è­‰æ“š', 'C. ç‰©ç†æ€§è­‰æ“š', 'D. é–“æ¥è­‰æ“š'], answer: 'C', explanation: 'ç›´æ¥è§€å¯Ÿè¨­å‚™å±¬æ–¼ç‰©ç†æ€§è­‰æ“šã€‚' },
            { id: 16, level: 'simple', type: 'æ¡ˆä¾‹', question: 'å†·æ°£æ©Ÿçµ„ä¸­çš„å†·åª’é€¸æ•£å±¬æ–¼é¡åˆ¥ 1 ä¸­çš„å“ªå€‹å­é¡åˆ¥ï¼Ÿ', options: ['A. å›ºå®šç‡ƒç‡’æº', 'B. ç§»å‹•ç‡ƒç‡’æº', 'C. è£½ç¨‹æ’æ”¾æº', 'D. é€¸æ•£æ€§æ’æ”¾æº'], answer: 'D', explanation: 'å†·åª’é€¸æ•£å±¬æ–¼é€¸æ•£æ€§æ’æ”¾æºã€‚' },
            { id: 17, level: 'simple', type: 'æ¡ˆä¾‹', question: 'æ¡è³¼åŸæ–™é‹è¼¸ï¼ˆä¸Šæ¸¸é‹è¼¸ï¼‰ç”¢ç”Ÿçš„æ’æ”¾å±¬æ–¼å“ªå€‹é¡åˆ¥ï¼Ÿ', options: ['A. é¡åˆ¥ 1', 'B. é¡åˆ¥ 2', 'C. é¡åˆ¥ 3', 'D. é¡åˆ¥ 4'], answer: 'C', explanation: 'ä¸Šæ¸¸é‹è¼¸å±¬æ–¼é¡åˆ¥ 3ã€‚' },
            { id: 18, level: 'simple', type: 'æ¡ˆä¾‹', question: 'ç„Šæ¢ä½¿ç”¨æ‰€é€ æˆçš„æ’æ”¾å±¬æ–¼å“ªç¨®å‹å¼ï¼Ÿ', options: ['A. å›ºå®šç‡ƒç‡’', 'B. ç§»å‹•ç‡ƒç‡’', 'C. è£½ç¨‹æ’æ”¾', 'D. é€¸æ•£æ’æ”¾'], answer: 'C', explanation: 'æ°£ç„Šèˆ‡é›»ç„Šå±¬æ–¼è£½ç¨‹æ’æ”¾ã€‚' },
            { id: 19, level: 'simple', type: 'æ¡ˆä¾‹', question: 'ã€Œé¡åˆ¥ä¸‰ å“¡å·¥é€šå‹¤ã€ä¸»è¦é—œè¯çš„é–“æ¥æ’æ”¾æºæ˜¯ä»€éº¼ï¼Ÿ', options: ['A. è¾¦å…¬å®¤å¤–è³¼é›»åŠ›', 'B. å“¡å·¥æ­ä¹˜å¤§çœ¾äº¤é€šå·¥å…·æˆ–ç§å®¶è»Š', 'C. å…¬å‹™è»Šæ’æ”¾', 'D. å†·æ°£å†·åª’é€¸æ•£'], answer: 'B', explanation: 'å“¡å·¥é€šå‹¤ï¼ˆéå…¬å¸è»Šè¼›ï¼‰å±¬æ–¼é¡åˆ¥ 3ã€‚' },
            { id: 20, level: 'simple', type: 'æ¡ˆä¾‹', question: 'ç‡Ÿé‹å»¢æ£„ç‰©è™•ç†æ’æ”¾å±¬æ–¼å“ªå€‹é¡åˆ¥ï¼Ÿ', options: ['A. é¡åˆ¥ 1', 'B. é¡åˆ¥ 2', 'C. é¡åˆ¥ 3', 'D. é¡åˆ¥ 4'], answer: 'D', explanation: 'å»¢æ£„ç‰©è™•ç½®å±¬æ–¼é¡åˆ¥ 4ã€‚' },
            { id: 21, level: 'simple', type: 'æ¡ˆä¾‹', question: 'å †é«˜æ©Ÿä½¿ç”¨çš„æŸ´æ²¹ç‡ƒæ–™æ¶ˆè€—ï¼Œæ‡‰æ­¸é¡æ–¼å“ªä¸€é¡åˆ¥ï¼Ÿ', options: ['A. é¡åˆ¥ 1', 'B. é¡åˆ¥ 2', 'C. é¡åˆ¥ 3', 'D. é¡åˆ¥ 4'], answer: 'A', explanation: 'å †é«˜æ©Ÿç‚ºçµ„ç¹”æ§åˆ¶çš„ç§»å‹•æºï¼Œå±¬é¡åˆ¥ 1ã€‚' },
            { id: 22, level: 'simple', type: 'æ¡ˆä¾‹', question: 'é¡åˆ¥ 1 çš„æ’æ”¾é‡æ•¸æ“šå±¬æ–¼å“ªç¨®æ’æ”¾é¡å‹ï¼Ÿ', options: ['A. ç›´æ¥æº«å®¤æ°£é«”æ’æ”¾', 'B. èƒ½æºé–“æ¥', 'C. é‹è¼¸é–“æ¥', 'D. å…¶ä»–é–“æ¥'], answer: 'A', explanation: 'é¡åˆ¥ 1 å³ç‚ºç›´æ¥æ’æ”¾ã€‚' },
            { id: 23, level: 'simple', type: 'æ¡ˆä¾‹', question: 'é¡åˆ¥ 2ï¼ˆå¤–è³¼é›»åŠ›ï¼‰çš„æ’æ”¾é‡å±¬æ–¼å“ªç¨®æº«å®¤æ°£é«”æ’æ”¾ï¼Ÿ', options: ['A. ç›´æ¥æ’æ”¾', 'B. é–“æ¥æ’æ”¾', 'C. ç§»é™¤é‡', 'D. å°ˆæ¡ˆæ¸›é‡'], answer: 'B', explanation: 'é¡åˆ¥ 2 æ˜¯èƒ½æºé–“æ¥æ’æ”¾ã€‚' },
            { id: 24, level: 'simple', type: 'æ¡ˆä¾‹', question: 'ç·Šæ€¥ç™¼é›»æ©Ÿä½¿ç”¨çš„æŸ´æ²¹ç‡ƒæ–™æ¶ˆè€—æ‡‰æ­¸é¡æ–¼ï¼Ÿ', options: ['A. ç¯„ç–‡ä¸€ï¼ˆé¡åˆ¥ 1ï¼‰', 'B. ç¯„ç–‡äºŒ', 'C. ç¯„ç–‡ä¸‰', 'D. ç¯„ç–‡å››'], answer: 'A', explanation: 'ç·Šæ€¥ç™¼é›»æ©Ÿç‚ºå›ºå®šç‡ƒç‡’æºï¼Œå±¬é¡åˆ¥ 1ã€‚' },
            { id: 25, level: 'simple', type: 'æ¡ˆä¾‹', question: 'å†·åª’ R-134a çš„ GWP å€¼æ•¸æ“šå±¬æ–¼é‡åŒ–è¨ˆç®—ä¸­çš„å“ªå€‹è¦ç´ ï¼Ÿ', options: ['A. æ´»å‹•æ•¸æ“š', 'B. æ’æ”¾ä¿‚æ•¸', 'C. GWP å€¼', 'D. ç”¢é‡æ•¸æ“š'], answer: 'C', explanation: 'GWP å€¼ç”¨æ–¼è½‰æ› CO2eã€‚' },
            
            // ä¸€èˆ¬ (General) 26-45
            { id: 26, level: 'general', type: 'ç†è«–', question: 'å¯¦è³ªæ€§é–€æª»ï¼ˆMateriality Thresholdï¼‰çš„å®šé‡æº–å‰‡é€šå¸¸è¨­å®šç‚ºå¤šå°‘ï¼Ÿ', options: ['A. 3.0%', 'B. 5.0%', 'C. 7.0%', 'D. 10.0%'], answer: 'B', explanation: 'ä¸€èˆ¬å¯¦è³ªæ€§é–€æª»ç‚º 5%ã€‚' },
            { id: 27, level: 'general', type: 'ç†è«–', question: 'ç•¶æº«å®¤æ°£é«”æ’æ”¾é‡è®Šå‹•è¶…éé¡¯è‘—æ€§é–€æª»æ™‚æ‡‰é‡æ–°è¨ˆç®—åŸºæº–å¹´ï¼Œè©²é–€æª»å€¼ç‚ºå¤šå°‘ï¼Ÿ', options: ['A. 0.5%', 'B. 3.0%', 'C. 5.0%', 'D. 7.0%'], answer: 'B', explanation: 'é¡¯è‘—æ€§é–€æª»é€šå¸¸ç‚º 3.0%ã€‚' },
            { id: 28, level: 'general', type: 'ç†è«–', question: 'ISO 14064-1:2018 æ–°ç‰ˆä¸­ï¼Œçµ„ç¹”çš„é–“æ¥æº«å®¤æ°£é«”æ’æ”¾å…±åˆ†ç‚ºå¹¾é¡ï¼Ÿ', options: ['A. å…©é¡', 'B. ä¸‰é¡', 'C. äº”é¡ï¼ˆé¡åˆ¥ 2 è‡³é¡åˆ¥ 6ï¼‰', 'D. å…­é¡'], answer: 'C', explanation: 'é–“æ¥æ’æ”¾åŒ…å«é¡åˆ¥ 2 è‡³ 6ï¼Œå…±äº”é¡ã€‚' },
            { id: 29, level: 'general', type: 'ç†è«–', question: 'é€æ˜åº¦åŸå‰‡è¦æ±‚çµ„ç¹”å¿…é ˆåšåˆ°ä»€éº¼ï¼Ÿ', options: ['A. ç´å…¥æ‰€æœ‰æ’æ”¾', 'B. æ¸›å°‘ä¸ç¢ºå®šæ€§', 'C. æ­éœ²å……åˆ†ä¸”é©ç•¶è³‡è¨Šï¼Œä½¿æ±ºç­–åˆç†å¯ä¿¡', 'D. é€²è¡Œæ¯”è¼ƒ'], answer: 'C', explanation: 'é€æ˜åº¦è¦æ±‚æ­éœ²å……åˆ†è³‡è¨Šä»¥ä¾›æ±ºç­–ã€‚' },
            { id: 30, level: 'general', type: 'ç†è«–', question: 'æ¡ç”¨ã€Œæ§åˆ¶æ¬Šã€æ–¹æ³•æ™‚ï¼Œçµ„ç¹”éœ€è² è²¬å¤šå°‘æ¯”ä¾‹çš„æ’æ”¾é‡ï¼Ÿ', options: ['A. ä¾è‚¡æ¬Šæ¯”ä¾‹', 'B. 100%', 'C. åƒ…é¡åˆ¥ 1 å’Œ 2', 'D. ä¾ç¸½é‡æ¯”ä¾‹'], answer: 'B', explanation: 'æ§åˆ¶æ¬Šæ³•ä¸‹ï¼Œçµ„ç¹”å°å…·æ§åˆ¶æ¬Šçš„ç‡Ÿé‹è²  100% è²¬ä»»ã€‚' },
            { id: 31, level: 'general', type: 'å¯¦å‹™', question: 'æŸ¥è­‰äººå“¡æ¡ç”¨ã€Œé‡æ–°è¨ˆç®—ã€ï¼ˆre-computationï¼‰æŠ€è¡“çš„ä¸»è¦ç›®çš„æ˜¯ä»€éº¼ï¼Ÿ', options: ['A. ç²å¾—ç¬¬ä¸‰æ–¹ç¢ºèª', 'B. å°‹æ‰¾åŸå§‹æ•¸æ“šéŒ¯èª¤', 'C. æŸ¥æ ¸æº«å®¤æ°£é«”æ¸…å–®ï¼ˆæ’æ”¾é‡ï¼‰çš„æ­£ç¢ºæ€§', 'D. ç™¼ç¾éºæ¼'], answer: 'C', explanation: 'é‡æ–°è¨ˆç®—æ˜¯ç‚ºäº†é©—è­‰é‹ç®—çµæœçš„æ­£ç¢ºæ€§ã€‚' },
            { id: 32, level: 'general', type: 'å¯¦å‹™', question: 'è¨ˆç®—å¤–è³¼é›»åŠ›ï¼ˆCategory 2ï¼‰æ™‚ï¼Œæ‡‰å¼•ç”¨å“ªä¸€ç¨®æ’ç¢³ä¿‚æ•¸ï¼Ÿ', options: ['A. ä¾›æ‡‰å•†æä¾›', 'B. ç¶“æ¿Ÿéƒ¨å…¬å‘Šä¹‹é›»åŠ›æ’ç¢³ä¿‚æ•¸', 'C. IPCC ä¿‚æ•¸', 'D. è‡ªå» æª¢æ¸¬'], answer: 'B', explanation: 'æ‡‰å¼•ç”¨ç¶“æ¿Ÿéƒ¨èƒ½æºå±€å…¬å‘Šä¹‹æœ€æ–°ä¿‚æ•¸ã€‚' },
            { id: 33, level: 'general', type: 'å¯¦å‹™', question: 'å»ºè­°æ‡‰ä½¿ç”¨å“ªå€‹æ©Ÿæ§‹æœ€æ–°å…¬å¸ƒçš„ GWP å€¼ï¼Ÿ', options: ['A. ç’°å¢ƒéƒ¨', 'B. IEA', 'C. IPCC', 'D. UNEP'], answer: 'C', explanation: 'æ‡‰ä½¿ç”¨ IPCC æœ€æ–°å…¬å¸ƒçš„ GWP å€¼ã€‚' },
            { id: 34, level: 'general', type: 'å¯¦å‹™', question: 'é€éé¢è«‡æŠ€è¡“æ‰€è’é›†åˆ°çš„è­‰æ“šé¡å‹æ˜¯ä»€éº¼ï¼Ÿ', options: ['A. ç‰©ç†æ€§è­‰æ“š', 'B. æ–‡ä»¶æ€§è­‰æ“š', 'C. è­‰è©æ€§è­‰æ“š', 'D. é–“æ¥è­‰æ“š'], answer: 'C', explanation: 'é¢è«‡æ‰€å¾—ç‚ºè­‰è©æ€§è­‰æ“šã€‚' },
            { id: 35, level: 'general', type: 'å¯¦å‹™', question: 'é‡å°é‡åŒ–æ’æ”¾ä¿‚æ•¸ï¼Œæœ€å„ªå…ˆæ¡ç”¨çš„é †åºæ˜¯ï¼Ÿ', options: ['A. å ´å€ç‰¹å®šæ•¸æ“šï¼ˆè‡ªå» æª¢æ¸¬ï¼‰', 'B. åœ‹å®¶ä¿‚æ•¸', 'C. åœ‹éš›ä¿‚æ•¸', 'D. ä¾›æ‡‰å•†ä¿‚æ•¸'], answer: 'A', explanation: 'è‡ªå» é‡æ¸¬æ•¸æ“šï¼ˆå ´å€ç‰¹å®šï¼‰ç‚ºæœ€å„ªå…ˆã€‚' },
            { id: 36, level: 'general', type: 'å¯¦å‹™', question: 'ç™¼ç¾æœ‰å…©ç¨®ä»¥ä¸Šæ’æ”¾ä¿‚æ•¸å¯ç”¨æ™‚ï¼Œæ‡‰å¦‚ä½•é¸ç”¨ä»¥ç¬¦åˆæº–ç¢ºåº¦åŸå‰‡ï¼Ÿ', options: ['A. é¸æ“‡æœ€ä½ä¿‚æ•¸', 'B. é¸æ“‡æ”¿åºœå…¬å‘Šä¿‚æ•¸', 'C. é¸æ“‡è‡ªèº«é‡æ¸¬æ•¸æ“šç‚ºç¬¬ä¸€å„ªå…ˆ', 'D. é¸æ“‡æœ€æ˜“å–å¾—ä¿‚æ•¸'], answer: 'C', explanation: 'è‡ªèº«é‡æ¸¬æ•¸æ“šå„ªå…ˆï¼Œä»¥ç¬¦åˆæº–ç¢ºåº¦ã€‚' },
            { id: 37, level: 'general', type: 'å¯¦å‹™', question: 'ç·Šæ€¥ç™¼é›»æ©Ÿèˆ‡å †é«˜æ©Ÿå…±ç”¨æ²¹æ§½ï¼Œæ´»å‹•æ•¸æ“šç„¡æ³•åˆ‡å‰²æ™‚æ‡‰å¦‚ä½•è™•ç†ï¼Ÿ', options: ['A. åƒ…è¨ˆå…¥è¼ƒé«˜è€…', 'B. å¯æ“‡ä¸€ä»£è¡¨ç™»éŒ„ï¼Œå…¶é¤˜è¨»æ˜', 'C. å¹³å‡åˆ†é…', 'D. èª¿æ•´é‚Šç•Œ'], answer: 'B', explanation: 'å¯æ“‡ä¸€ä»£è¡¨ç™»éŒ„ä¸¦è¨»æ˜ï¼Œé¿å…é‡è¤‡æˆ–éºæ¼ã€‚' },
            { id: 38, level: 'general', type: 'å¯¦å‹™', question: 'GWP å€¼å¼•ç”¨éŒ¯èª¤å±¬æ–¼å“ªå€‹å¯¦è³ªæ€§è­°é¡Œï¼Ÿ', options: ['A. é‚Šç•Œå®Œæ•´æ€§', 'B. æ’æ”¾ä¿‚æ•¸é¸ç”¨çš„æº–ç¢ºæ€§', 'C. æ•¸æ“šå¯é æ€§', 'D. åŸºæº–å¹´ä¸€è‡´æ€§'], answer: 'B', explanation: 'GWP éŒ¯èª¤å±¬æ–¼ä¿‚æ•¸é¸ç”¨ä¸ç•¶ï¼ˆæº–ç¢ºæ€§ï¼‰ã€‚' },
            { id: 39, level: 'general', type: 'å¯¦å‹™', question: 'èª¤å°‡å…¬å‹™å°è²¨è»Šçš„æŸ´æ²¹æ¶ˆè€—æ­¸é¡ç‚ºé¡åˆ¥ 3ï¼Œæ˜¯å¦æ­£ç¢ºï¼Ÿ', options: ['A. æ­£ç¢º', 'B. æ­£ç¢ºï¼Œéå›ºå®šæº', 'C. ä¸æ­£ç¢ºï¼Œæ‡‰å±¬é¡åˆ¥ 1', 'D. ä¸æ­£ç¢ºï¼Œæ‡‰å±¬é¡åˆ¥ 4'], answer: 'C', explanation: 'å…¬å‹™è»Šç”±çµ„ç¹”æ§åˆ¶ï¼Œå±¬é¡åˆ¥ 1ã€‚' },
            { id: 40, level: 'general', type: 'å¯¦å‹™', question: 'é›»è²»å–®æ“šæ—¥æœŸèˆ‡è¨ˆè²»æœŸé–“ä¸ä¸€è‡´ï¼Œé€™é¡éŒ¯èª¤å±¬æ–¼ï¼Ÿ', options: ['A. éºæ¼ä½è­‰', 'B. æ•¸æ“šè’é›†çš„æ™‚é–“é€±æœŸèˆ‡ç›¤æŸ¥æ™‚é–“ä¸ä¸€è‡´', 'C. å–®ä½æœªè½‰æ›', 'D. æœªè€ƒæ…®åº«å­˜'], answer: 'B', explanation: 'é€™æ˜¯æ™‚é–“é€±æœŸä¸ä¸€è‡´çš„å¸¸è¦‹å•é¡Œã€‚' },
            { id: 41, level: 'general', type: 'æ¡ˆä¾‹', question: 'LPGï¼ˆæ¶²åŒ–çŸ³æ²¹æ°£ï¼‰ä¸»è¦æˆåˆ†ç‚ºä¸™çƒ·åŠä¸çƒ·ï¼Œæ˜¯å¦éœ€åˆ—å…¥æº«å®¤æ°£é«”æ’æ”¾ï¼Ÿ', options: ['A. å¿…é ˆåˆ—å…¥', 'B. ä¸éœ€åˆ—å…¥ï¼Œå› éå±¬åˆ—ç®¡ GHG', 'C. åƒ…è¨ˆç®— CO2', 'D. éœ€åˆ†é–‹å ±å‘Š'], answer: 'B', explanation: 'LPG ä¸»è¦æˆåˆ†é GHGï¼Œç‡ƒç‡’å¾Œç”¢ç”Ÿçš„ CO2 æ‰éœ€è¨ˆç®—ï¼Œç›´æ¥é€¸æ•£ä¸è¨ˆã€‚' },
            { id: 42, level: 'general', type: 'æ¡ˆä¾‹', question: 'è¨ªè«‡ç¢ºèªé›»åŠ›æ•¸æ“šç®¡ç†æµç¨‹ï¼Œå±¬æ–¼å“ªç¨®è­‰æ“šè’é›†ï¼Ÿ', options: ['A. ç‰©ç†æ€§è­‰æ“š', 'B. æ–‡ä»¶æ€§è­‰æ“š', 'C. è­‰è©æ€§è­‰æ“š', 'D. é‡æ–°è¨ˆç®—'], answer: 'C', explanation: 'è¨ªè«‡å±¬æ–¼è­‰è©æ€§è­‰æ“šã€‚' },
            { id: 43, level: 'general', type: 'æ¡ˆä¾‹', question: 'ä½¿ç”¨äº”å¹´å‰çš„æ’æ”¾å› å­é•åäº†å“ªå€‹åŸå‰‡ï¼Ÿ', options: ['A. å®Œæ•´æ€§', 'B. ä¸€è‡´æ€§', 'C. æº–ç¢ºåº¦', 'D. é€æ˜åº¦'], answer: 'C', explanation: 'éæ™‚å› å­å¢åŠ åå·®ï¼Œé•åæº–ç¢ºåº¦ã€‚' },
            { id: 44, level: 'general', type: 'æ¡ˆä¾‹', question: 'é›»åŠ› 1,500,000 kWhï¼ŒéŒ¯èª¤ä¿‚æ•¸ 0.530ï¼Œæ­£ç¢º 0.509ï¼Œé«˜ä¼°é‡ç‚ºå¤šå°‘ï¼Ÿ', options: ['A. 10,500 kg', 'B. 31,500 kg', 'C. 763,500 kg', 'D. 795,000 kg'], answer: 'B', explanation: '1,500,000 * (0.530 - 0.509) = 31,500 kgã€‚' },
            { id: 45, level: 'general', type: 'æ¡ˆä¾‹', question: 'R-134a å±¬æ–¼å“ªä¸€é¡æº«å®¤æ°£é«”ï¼Ÿ', options: ['A. CFCs', 'B. HCFCs', 'C. HFCs', 'D. PFCs'], answer: 'C', explanation: 'R-134a å±¬æ–¼æ°«æ°Ÿç¢³åŒ–ç‰©ï¼ˆHFCsï¼‰ã€‚' },

            // å›°é›£ (Difficult) 46-75
            { id: 46, level: 'difficult', type: 'ç†è«–', question: 'éäººç‚ºç”Ÿç‰©æºæº«å®¤æ°£é«”æ’æ”¾æ‡‰å¦‚ä½•è™•ç†ï¼Ÿ', options: ['A. è¨ˆå…¥é¡åˆ¥ 1', 'B. å¿½ç•¥ä¸è¨ˆ', 'C. å¯äºˆä»¥é‡åŒ–ï¼Œè‹¥é€²è¡Œæ™‚æ‡‰åˆ†åˆ¥å ±å‘Šä¹‹', 'D. è¨ˆå…¥é¡åˆ¥ 6'], answer: 'C', explanation: 'éäººç‚ºç”Ÿç‰©æºæ’æ”¾æ‡‰åˆ†åˆ¥å ±å‘Šã€‚' },
            { id: 47, level: 'difficult', type: 'ç†è«–', question: 'æŸ¥é©—æ©Ÿæ§‹åŸ·è¡Œçµ„ç¹”å‹æŸ¥é©—æ™‚ï¼Œå¯¦è³ªæ€§é–€æª»é€šå¸¸è¨­å®šç‚ºå¤šå°‘ï¼Ÿ', options: ['A. 3%', 'B. 5%', 'C. 7%', 'D. 10%'], answer: 'B', explanation: 'çµ„ç¹”å‹æŸ¥é©—ä¹‹å¯¦è³ªæ€§é–€æª»é€šå¸¸ç‚º 5%ã€‚' },
            { id: 48, level: 'difficult', type: 'ç†è«–', question: 'æ±ºå®šç´å…¥é–“æ¥æ’æ”¾æºæ™‚ï¼Œæ‡‰å»ºç«‹ä½•ç¨®æº–å‰‡ä»¥æ±ºå®šé‡å¤§æ€§ï¼Ÿ', options: ['A. è²¡å‹™é–€æª»', 'B. å¸‚å ´ä½”æœ‰ç‡', 'C. é‡å¤§æ€§æº–å‰‡', 'D. æ³•å¾‹è²¬ä»»'], answer: 'C', explanation: 'æ‡‰ä¾æ“šã€Œé‡å¤§æ€§æº–å‰‡ã€é‘‘åˆ¥é–“æ¥æ’æ”¾ã€‚' },
            { id: 49, level: 'difficult', type: 'ç†è«–', question: 'æ’æ”¾é‡è®Šå‹•è¶…éé¡¯è‘—æ€§é–€æª»éœ€é‡æ–°è¨ˆç®—åŸºæº–å¹´ï¼Œé©ç”¨æ–¼å“ªç¨®æƒ…æ³ï¼Ÿ', options: ['A. ç”Ÿç”¢æ°´æº–æ”¹è®Š', 'B. ç´¯ç©èª¤å·®', 'C. çµ„ç¹”é‚Šç•Œæˆ–è¨ˆç®—æ–¹æ³•çš„æ”¹è®Š', 'D. é‡å¤§æºæ”¹è®Š'], answer: 'C', explanation: 'é‚Šç•Œæˆ–è¨ˆç®—æ–¹æ³•æ”¹è®Šå°è‡´é¡¯è‘—è®Šå‹•æ™‚éœ€é‡ç®—ã€‚' },
            { id: 50, level: 'difficult', type: 'ç†è«–', question: 'æº«å®¤æ°£é«”å ±å‘Šé™¤æ’æ”¾é‡å¤–ï¼Œé‚„æ‡‰æ­éœ²ä»€éº¼ï¼Ÿ', options: ['A. å…¬å¸æ·¨åˆ©', 'B. æ’æ”¾ä¿‚æ•¸çš„åƒè€ƒæˆ–æ–‡ä»¶', 'C. å°æ‰‹æ•¸æ“š', 'D. è¨­å‚™æŠ˜èˆŠ'], answer: 'B', explanation: 'å¿…é ˆæ­éœ²ä¿‚æ•¸ä¾†æºæˆ–åƒè€ƒæ–‡ä»¶ã€‚' },
            { id: 51, level: 'difficult', type: 'å¯¦å‹™', question: 'èª¤ç”¨é«˜ä½ç†±å€¼ (HHV) è€Œéä½ä½ç†±å€¼ (LHV) è¨ˆç®—ï¼Œæœƒå°è‡´ä»€éº¼çµæœï¼Ÿ', options: ['A. ä¿‚æ•¸è¢«ä½ä¼°', 'B. æ’æ”¾é‡è¢«é«˜ä¼°', 'C. æ’æ”¾é‡è¢«ä½ä¼°', 'D. ç„¡å½±éŸ¿'], answer: 'B', explanation: 'æœªè½‰æ› LHV ç›´æ¥ç”¨ HHV æœƒå°è‡´æ’æ”¾é‡é«˜ä¼°ã€‚' },
            { id: 52, level: 'difficult', type: 'å¯¦å‹™', question: 'é‡å°é«˜é¢¨éšªæ’æ”¾æºï¼Œæ‡‰æ¡ç”¨å“ªç¨®æŸ¥è­‰æ‰‹æ³•ç¢ºä¿æ•¸æ“šæµå®Œæ•´æ€§ï¼Ÿ', options: ['A. æ°´å¹³æŸ¥è­‰', 'B. éš¨æ©ŸæŸ¥è­‰', 'C. å‚ç›´æŸ¥è­‰ï¼ˆè·¯å¾‘æŸ¥è­‰ï¼‰', 'D. æ–‡ä»¶å¯©æŸ¥'], answer: 'C', explanation: 'å‚ç›´æŸ¥è­‰å¯è¿½æº¯å®Œæ•´æ•¸æ“šè·¯å¾‘ã€‚' },
            { id: 53, level: 'difficult', type: 'å¯¦å‹™', question: 'èˆªç©ºè²¨ç‰©é‹è¼¸æœå‹™çš„æ’æ”¾å› å­å±¬æ–¼å“ªç¨®æ•¸æ“šå“è³ªç­‰ç´šï¼Ÿ', options: ['A. è‡ªå» å¯¦æ¸¬', 'B. åœ‹å®¶å…¬å‘Š', 'C. åƒè€ƒç´šç¢³ä¿‚æ•¸', 'D. IPCC ä¿‚æ•¸'], answer: 'C', explanation: 'èˆªç©ºè²¨é‹é€šå¸¸ä½¿ç”¨åƒè€ƒç´šç¢³ä¿‚æ•¸ã€‚' },
            { id: 54, level: 'difficult', type: 'å¯¦å‹™', question: 'ç›¤æŸ¥æ¸…å†Šæœªè¨­å®šé€£å‹•å…¬å¼ï¼Œå°è‡´ä¿‚æ•¸æ›´æ–°ä¸å®Œå…¨ï¼Œå±¬æ–¼å“ªæ–¹é¢çš„å•é¡Œï¼Ÿ', options: ['A. ç®¡ç†è³‡è¨Š', 'B. è£½ç¨‹è³‡è¨Š', 'C. æ•¸æ“šè³‡è¨Šé¢å‘', 'D. é‚Šç•Œè¨­å®š'], answer: 'C', explanation: 'å…¬å¼è¨­å®šéŒ¯èª¤å±¬æ–¼æ•¸æ“šè³‡è¨Šé¢å‘ç¼ºå¤±ã€‚' },
            { id: 55, level: 'difficult', type: 'å¯¦å‹™', question: 'éºæ¼å«æœ‰ HFCs çš„ WD-40 æ’æ”¾æºï¼Œæœ€å¯èƒ½è¢«å“ªç¨®æ‰‹æ³•ç™¼ç¾ï¼Ÿ', options: ['A. æ ¸å°è²¡å ±', 'B. é‡æ–°è¨ˆç®—', 'C. ç¾å ´å‹˜æŸ¥èˆ‡äººå“¡å°è«‡', 'D. æª¢æŸ¥é€¸æ•£ç‡'], answer: 'C', explanation: 'ç¾å ´å‹˜æŸ¥èˆ‡å°è«‡èƒ½æœ‰æ•ˆç™¼ç¾éºæ¼æ’æ”¾æºã€‚' },
            { id: 56, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'é›»åŠ› 1,500 åƒåº¦ï¼Œä¿‚æ•¸ 0.509ï¼Œæ’æ”¾ç•¶é‡æ˜¯å¤šå°‘ï¼Ÿ', options: ['A. 795.00', 'B. 763.50', 'C. 758.00', 'D. 814.50'], answer: 'B', explanation: '1500 * 0.509 = 763.50 å…¬å™¸ CO2eã€‚' },
            { id: 57, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'èª¤å°‡å®¿èˆç“¦æ–¯åˆ—å…¥ï¼ˆéé‚Šç•Œï¼‰ä¸”ç‡ƒæ–™ç¨®é¡é‘‘åˆ¥éŒ¯èª¤ï¼ˆLNG/LPGï¼‰ï¼Œå±¬æ–¼ï¼Ÿ', options: ['A. å–®ä½éŒ¯èª¤', 'B. ä¿‚æ•¸éŒ¯èª¤', 'C. é‚Šç•Œè¨­å®šéŒ¯èª¤èˆ‡ç‡ƒæ–™é‘‘åˆ¥éŒ¯èª¤', 'D. GWP éŒ¯èª¤'], answer: 'C', explanation: 'å®¿èˆéé‚Šç•Œä¸”ç‡ƒæ–™ç¨®é¡å¼„éŒ¯ï¼Œå±¬é‚Šç•Œèˆ‡é‘‘åˆ¥é›™é‡éŒ¯èª¤ã€‚' },
            { id: 58, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'ç·Šæ€¥ç™¼é›»æ©Ÿï¼ˆå›ºå®šï¼‰èˆ‡å †é«˜æ©Ÿï¼ˆç§»å‹•ï¼‰ï¼Œç·Šæ€¥ç™¼é›»æ©Ÿæ‡‰é¸ç”¨å“ªç¨®æŸ´æ²¹ EFï¼Ÿ', options: ['A. æŸ´æ²¹ï¼ˆå›ºå®šæ’æ”¾æºï¼‰EF', 'B. æŸ´æ²¹ï¼ˆç§»å‹•æ’æ”¾æºï¼‰EF', 'C. æ··åˆ EF', 'D. CO2 EF'], answer: 'A', explanation: 'ç™¼é›»æ©Ÿæ˜¯å›ºå®šæºï¼Œæ‡‰é¸ç”¨å›ºå®šæº EFã€‚' },
            { id: 59, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'ç·Šæ€¥ç™¼é›»æ©ŸæŸ´æ²¹ 0.2 å…¬ç§‰ï¼ŒN2O å›ºå®šæº EF 0.0000211ï¼ŒGWP 273ï¼Œæ’æ”¾ç•¶é‡ç´„ç‚ºï¼Ÿ', options: ['A. 0.00422', 'B. 0.0012', 'C. 0.00574', 'D. 0.001'], answer: 'B', explanation: '0.2 * 0.0000211 * 273 â‰ˆ 0.00115ï¼Œç´„ 0.0012ã€‚' },
            { id: 60, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'èª¤ç”¨èˆŠç‰ˆ SF6 GWP (23,000) ä½æ–¼æ–°ç‰ˆ (25,200)ï¼Œçµæœæœƒï¼Ÿ', options: ['A. é«˜ä¼°', 'B. ä½ä¼°', 'C. ä¸è®Š', 'D. ç„¡æ³•åˆ¤å®š'], answer: 'B', explanation: 'ä¿‚æ•¸ç”¨å°äº†ï¼Œçµæœæœƒè¢«ä½ä¼°ã€‚' },
            { id: 61, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'ç’°å¢ƒå»¶é•·æŠ•å…¥ç”¢å‡ºåˆ†ææ³•ï¼ˆEEIOï¼‰å±¬æ–¼å“ªä¸€å­¸ç§‘é ˜åŸŸï¼Ÿ', options: ['A. ç¶“æ¿Ÿå­¸', 'B. ç”Ÿç‰©å­¸', 'C. ç‰©ç†å­¸', 'D. åŒ–å­¸'], answer: 'A', explanation: 'EEIO æ˜¯ç¶“æ¿Ÿå­¸æ¨¡å‹ã€‚' },
            { id: 62, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'å¤ªé™½èƒ½ç™¼é›»æ†‘è­‰éœ€ç¬¦åˆä»€éº¼æ¢ä»¶æ‰èƒ½ç®—é›¶æ’æ”¾ï¼Ÿ', options: ['A. é¢¨åŠ›æ†‘è­‰', 'B. åœ‹éš›æ ¸ç™¼', 'C. é›»è­‰åˆä¸€ä¸”å¹´åº¦ç›¸åŒ', 'D. ä¸å½±éŸ¿'], answer: 'C', explanation: 'éœ€é›»è­‰åˆä¸€ä¸”å¹´åº¦ç›¸ç¬¦ã€‚' },
            { id: 63, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'é¡åˆ¥ 4 å»¢æ£„ç‰©è™•ç†æ’æ”¾æ‡‰è¨ˆç®—åˆ°ç”Ÿå‘½é€±æœŸå“ªä¸€éšæ®µï¼Ÿ', options: ['A. æ–ç±ƒåˆ°é–€å£', 'B. æ–ç±ƒåˆ°æœ€çµ‚è™•ç½®ï¼ˆGraveï¼‰', 'C. åƒ…é‹è¼¸', 'D. åƒ…ç”¢ç”Ÿ'], answer: 'B', explanation: 'å»¢æ£„ç‰©è™•ç†æ‡‰åŒ…å«åˆ°æœ€çµ‚è™•ç½®éšæ®µã€‚' },
            { id: 64, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'HFC-R417 (0.6kg total), é€¸æ•£ç‡ 8%, GWP 2508, æ’æ”¾ç•¶é‡ç´„ï¼Ÿ', options: ['A. 0.016', 'B. 0.040', 'C. 0.120', 'D. 40.128'], answer: 'C', explanation: '0.6 * 0.08 * 2508 / 1000 â‰ˆ 0.120 å…¬å™¸ã€‚' },
            { id: 65, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'èª¤å°‡å¤–è³¼é›»åŠ›ï¼ˆé¡åˆ¥ 2ï¼‰æ­¸ç‚ºé¡åˆ¥ 1ï¼Œå±¬æ–¼å“ªç¨®å¯¦è³ªæ€§è­°é¡Œï¼Ÿ', options: ['A. åˆ»æ„æŒ‘é¸', 'B. çµ„ç¹”åŠç‡Ÿé‹é‚Šç•Œæœªé‡æ¸…', 'C. å…¬å¼éŒ¯èª¤', 'D. é‡è¤‡è¨ˆç®—'], answer: 'B', explanation: 'é¡åˆ¥æ­¸å±¬éŒ¯èª¤å±¬æ–¼é‚Šç•Œæœªé‡æ¸…ã€‚' },
            { id: 66, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'é€šå‹¤å•å·ç¼ºä¹ç‡ƒæ–™èˆ‡é‡Œç¨‹è³‡è¨Šï¼Œå°è‡´å‡è¨­ç²—ç•¥ï¼Œå±¬æ–¼ï¼Ÿ', options: ['A. é‚Šç•Œæœªé‡æ¸…', 'B. ç´€éŒ„ä¸ç³»çµ±', 'C. æ•¸æ“šä¹‹ä¸ç¢ºå®šæ€§', 'D. å¯¦è³ªæ”¹è®Š'], answer: 'C', explanation: 'ç¼ºä¹é—œéµæ•¸æ“šå°è‡´æ¨ä¼°ä¸æº–ï¼Œå±¬æ•¸æ“šä¸ç¢ºå®šæ€§ã€‚' },
            { id: 67, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'æ ¸å°ç¬¬ä¸‰æ–¹ç‰©æµæ’æ”¾æ•¸æ“šï¼Œæ‡‰æ¡ç”¨å“ªç¨®æŸ¥è­‰æ–¹æ³•ï¼Ÿ', options: ['A. å–®æ“šè­‰æ“šï¼ˆVouchingï¼‰', 'B. ç¢ºèª', 'C. é‡æ–°è¿½æº¯', 'D. é‡æ–°è¨ˆç®—'], answer: 'A', explanation: 'èª¿é–±ç‰©æµå–®æ“šå±¬æ–¼ Vouchingã€‚' },
            { id: 68, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'å…¬å‹™è»ŠéšŠå†·åª’ R-134a é€¸æ•£æ‡‰æ­¸é¡ç‚ºï¼Ÿ', options: ['A. é¡åˆ¥ 1ï¼šç§»å‹•å¼ç‡ƒç‡’', 'B. é¡åˆ¥ 1ï¼šé€¸æ•£æ€§æ’æ”¾æº', 'C. é¡åˆ¥ 3', 'D. é¡åˆ¥ 4'], answer: 'B', explanation: 'å…¬å‹™è»Šå†·åª’é€¸æ•£å±¬é¡åˆ¥ 1 é€¸æ•£æºã€‚' },
            { id: 69, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'åŒ–ç³æ± ï¼ˆå­æ°§ï¼‰ç”¢ç”Ÿçš„ CH4 å±¬æ–¼ï¼Ÿ', options: ['A. å›ºå®šç‡ƒç‡’', 'B. è£½ç¨‹æ’æ”¾', 'C. ç§»å‹•ç‡ƒç‡’', 'D. é€¸æ•£æ’æ”¾æº'], answer: 'D', explanation: 'åŒ–ç³æ± æ’æ”¾å±¬é€¸æ•£æºã€‚' },
            { id: 70, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'æ±½æ²¹æ•¸æ“šæœªå€åˆ†æ±½è»Šèˆ‡æ©Ÿè»Šå°è‡´ä¿‚æ•¸éŒ¯èª¤ï¼Œå±¬æ–¼ï¼Ÿ', options: ['A. å–®ä½éŒ¯èª¤', 'B. æ™‚é–“ä¸ä¸€è‡´', 'C. æ•¸æ“šè’é›†æ–¹å¼èˆ‡é‡åŒ–æ–¹æ³•ä¸ç¬¦', 'D. ä¿‚æ•¸å–®ä½ä¸ä¸€è‡´'], answer: 'C', explanation: 'åˆ†é¡ä¸æ¸…å°è‡´ç„¡æ³•å¥—ç”¨æ­£ç¢ºä¿‚æ•¸ã€‚' },
            { id: 71, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'æ´»å‹•æ•¸æ“šä¾†æºå„ªå…ˆé †åºï¼Œä½•è€…æœ€é«˜ï¼Ÿ', options: ['A. æœƒè¨ˆæ†‘å–®', 'B. å–®ä½å ±è¡¨', 'C. å…§éƒ¨ç³»çµ±', 'D. è‡ªè¡Œæ¨ä¼°'], answer: 'A', explanation: 'æœƒè¨ˆæ†‘å–®ï¼ˆå¦‚ç™¼ç¥¨ï¼‰æº–ç¢ºåº¦æœ€é«˜ã€‚' },
            { id: 72, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'CO2 æ»…ç«å™¨ 10kg é€¸æ•£ï¼Œæ’æ”¾ç•¶é‡ç‚ºï¼Ÿ', options: ['A. 0.01 å…¬å™¸', 'B. 10.0 å…¬å™¸', 'C. 0.10 å…¬å™¸', 'D. 1.00 å…¬å™¸'], answer: 'A', explanation: '10kg = 0.01t, GWP=1, 0.01 * 1 = 0.01ã€‚' },
            { id: 73, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'ä½¿ç”¨èˆŠç‰ˆé›»åŠ›ä¿‚æ•¸ï¼ˆ0.543 vs 0.509ï¼‰ï¼Œå±¬æ–¼ï¼Ÿ', options: ['A. æ•¸æ“šç–æ¼', 'B. æœªä½¿ç”¨æœ€æ–°ä¹‹æ’æ”¾ä¿‚æ•¸', 'C. å…¬å¼éŒ¯èª¤', 'D. åˆ»æ„æŒ‘é¸'], answer: 'B', explanation: 'é€™å±¬æ–¼æœªä½¿ç”¨æœ€æ–°ä¿‚æ•¸ã€‚' },
            { id: 74, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'å“ªå€‹æ­¥é©Ÿåœ¨ç¾å ´æŸ¥è­‰ä¹‹å¾Œï¼Œæ±ºå®šä¸ç¬¦åˆäº‹é …è™•ç†ï¼Ÿ', options: ['A. æ“¬å®šè¨ˆç•«', 'B. é–‹å§‹æœƒè­°', 'C. æº–å‚™æŸ¥è­‰åˆç¨¿èˆ‡æºé€š', 'D. è¿½è¹¤'], answer: 'C', explanation: 'ç¾å ´æŸ¥è­‰å¾Œé€²è¡Œåˆç¨¿æº–å‚™èˆ‡æºé€šã€‚' },
            { id: 75, level: 'difficult', type: 'æ¡ˆä¾‹', question: 'ç³»çµ±é€²è²¨æ—¥æœŸèˆ‡ä½è­‰ä¸ç¬¦ï¼ŒçŸ¯æ­£æ–¹å¼ç‚ºï¼Ÿ', options: ['A. å¿½ç•¥', 'B. ç«‹å³é‡æ–°è¼¸å…¥æ­£ç¢ºçš„é€²è²¨æ—¥æœŸ', 'C. æ”¹ä½è­‰', 'D. èª¿æ•´åŸºæº–å¹´'], answer: 'B', explanation: 'æ•¸æ“šéŒ¯èª¤æ‡‰ç«‹å³æ›´æ­£ã€‚' },
        ];

        // --- ä¸»ç¨‹å¼ ---
        function App() {
            // view: login, student_menu, student_quiz, student_result, manager_dashboard
            const [view, setView] = useState('login'); 
            const [user, setUser] = useState({ name: '', dept: '' });
            const [role, setRole] = useState('student');
            const [level, setLevel] = useState('');
            const [quizQuestions, setQuizQuestions] = useState([]);
            const [answers, setAnswers] = useState({});
            
            // è³‡æ–™å„²å­˜
            const [localHistory, setLocalHistory] = useState([]);
            const [managerData, setManagerData] = useState([]);

            // åˆå§‹åŒ–ï¼šè®€å–æœ¬åœ°ç´€éŒ„
            useEffect(() => {
                const savedUser = localStorage.getItem('iso14064_user');
                if (savedUser) setUser(JSON.parse(savedUser));
                
                const savedHistory = localStorage.getItem('iso14064_history');
                if (savedHistory) setLocalHistory(JSON.parse(savedHistory));
            }, []);

            // ç™»å…¥
            const handleLogin = (e) => {
                e.preventDefault();
                localStorage.setItem('iso14064_user', JSON.stringify(user));
                if (role === 'manager') {
                    setView('manager_dashboard');
                } else {
                    setView('student_menu');
                }
            };

            // é–‹å§‹æ¸¬é©—
            const startQuiz = (selectedLevel) => {
                setLevel(selectedLevel);
                const filtered = FULL_QUESTION_BANK.filter(q => q.level === selectedLevel);
                const shuffled = [...filtered].sort(() => 0.5 - Math.random());
                const selected = shuffled.slice(0, 10);
                setQuizQuestions(selected);
                setAnswers({});
                setView('student_quiz');
                window.scrollTo(0, 0);
            };

            // æäº¤æ¸¬é©—
            const submitQuiz = () => {
                let correctCount = 0;
                quizQuestions.forEach(q => {
                    if (answers[q.id] && answers[q.id].startsWith(q.answer)) correctCount++;
                });
                const score = correctCount * 10;
                
                const resultRecord = {
                    id: Date.now(),
                    date: new Date().toLocaleString(),
                    name: user.name,
                    dept: user.dept,
                    level: level,
                    score: score,
                    details: quizQuestions.map(q => ({
                        id: q.id,
                        question: q.question,
                        userAnswer: answers[q.id] || 'æœªä½œç­”',
                        correctAnswer: q.answer,
                        isCorrect: (answers[q.id] || '').startsWith(q.answer),
                        explanation: q.explanation
                    }))
                };

                const newHistory = [resultRecord, ...localHistory];
                setLocalHistory(newHistory);
                localStorage.setItem('iso14064_history', JSON.stringify(newHistory));
                setView('student_result');
                window.scrollTo(0, 0);
            };

            // æ‰‹æ©Ÿç‰ˆ/é›»è…¦ç‰ˆé€šç”¨ä¸‹è¼‰ (JSON)
            const downloadMyResult = () => {
                const latest = localHistory[0];
                if (!latest) return;
                
                const dataStr = JSON.stringify([latest], null, 2);
                const blob = new Blob([dataStr], { type: "application/json" });
                const url = URL.createObjectURL(blob);
                const link = document.createElement("a");
                link.href = url;
                const fileName = `ISO14064_${user.name}_${latest.score}åˆ†.json`;
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            // ç®¡ç†å“¡ï¼šåŒ¯å…¥
            const handleImport = (e) => {
                const files = Array.from(e.target.files);
                if (files.length === 0) return;

                let newRecords = [];
                let processedCount = 0;

                files.forEach(file => {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        try {
                            const data = JSON.parse(event.target.result);
                            if (Array.isArray(data)) {
                                newRecords = [...newRecords, ...data];
                            } else {
                                newRecords.push(data);
                            }
                        } catch (err) {
                            console.error("æª”æ¡ˆè§£æéŒ¯èª¤:", file.name, err);
                        }
                        
                        processedCount++;
                        if (processedCount === files.length) {
                            const uniqueRecords = [...managerData, ...newRecords].filter((v, i, a) => a.findIndex(t => t.id === v.id) === i);
                            uniqueRecords.sort((a, b) => new Date(b.date) - new Date(a.date));
                            setManagerData(uniqueRecords);
                            alert(`æˆåŠŸåŒ¯å…¥ ${newRecords.length} ç­†è³‡æ–™ï¼`);
                        }
                    };
                    reader.readAsText(file);
                });
            };

            // ç®¡ç†å“¡ï¼šåŒ¯å‡º CSV
            const exportManagerCSV = () => {
                const bom = "\uFEFF";
                let csvContent = "data:text/csv;charset=utf-8," + bom;
                csvContent += "æ™‚é–“,å§“å,éƒ¨é–€,é›£åº¦,åˆ†æ•¸,çµæœ\n";
                managerData.forEach(row => {
                    const status = row.score >= 70 ? "é€šé" : "æœªé€šé";
                    const cleanDate = row.date.replace(/,/g, ' ');
                    csvContent += `${cleanDate},${row.name},${row.dept},${row.level},${row.score},${status}\n`;
                });
                const encodedUri = encodeURI(csvContent);
                const link = document.createElement("a");
                link.setAttribute("href", encodedUri);
                link.setAttribute("download", `ISO14064_ç¸½æˆç¸¾å ±è¡¨_${new Date().toISOString().slice(0,10)}.csv`);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            };

            // --- è¦–åœ– (Views) ---

            // 1. ç™»å…¥
            if (view === 'login') {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4 bg-slate-100">
                        <div className="bg-white p-6 rounded-2xl shadow-xl w-full max-w-sm animate-slide-up">
                            <div className="text-center mb-6">
                                <h1 className="text-xl font-bold text-gray-800">ISO 14064-1 æ¸¬é©—å¹³å°</h1>
                                <p className="text-gray-500 text-sm">v3.1 è¡Œå‹•ç‰ˆ</p>
                            </div>
                            <form onSubmit={handleLogin} className="space-y-4">
                                <div className="grid grid-cols-2 gap-2 bg-gray-100 p-1 rounded-lg">
                                    <button type="button" onClick={() => setRole('student')} className={`py-2 text-sm font-bold rounded-md transition-all ${role === 'student' ? 'bg-white text-blue-600 shadow' : 'text-gray-500'}`}>æˆ‘æ˜¯å­¸å“¡</button>
                                    <button type="button" onClick={() => setRole('manager')} className={`py-2 text-sm font-bold rounded-md transition-all ${role === 'manager' ? 'bg-white text-green-600 shadow' : 'text-gray-500'}`}>æˆ‘æ˜¯ç®¡ç†å“¡</button>
                                </div>
                                <input required type="text" className="w-full p-3 rounded-lg border bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none transition" value={user.name} onChange={e => setUser({...user, name: e.target.value})} placeholder={role==='student'?"è«‹è¼¸å…¥å§“å":"ç®¡ç†å“¡åç¨±"} />
                                <input required type="text" className="w-full p-3 rounded-lg border bg-gray-50 focus:bg-white focus:ring-2 focus:ring-blue-500 outline-none transition" value={user.dept} onChange={e => setUser({...user, dept: e.target.value})} placeholder="éƒ¨é–€ / å–®ä½" />
                                <button type="submit" className="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 shadow-lg active:scale-95 transition">é€²å…¥ç³»çµ±</button>
                            </form>
                        </div>
                    </div>
                );
            }

            // 2. å­¸å“¡é¸å–®
            if (view === 'student_menu') {
                return (
                    <div className="min-h-screen bg-slate-50 p-4 flex flex-col items-center">
                        <div className="w-full max-w-md animate-slide-up">
                            <div className="flex justify-between items-center mb-6">
                                <div>
                                    <h2 className="text-lg font-bold text-gray-800">Hi, {user.name}</h2>
                                    <p className="text-xs text-gray-500">{user.dept}</p>
                                </div>
                                <button onClick={() => setView('login')} className="text-xs text-red-500 border border-red-200 px-3 py-1 rounded-full">ç™»å‡º</button>
                            </div>

                            <div className="space-y-4 mb-8">
                                <button onClick={() => startQuiz('simple')} className="w-full bg-white p-5 rounded-xl shadow-sm border-l-4 border-green-400 flex items-center justify-between active:bg-gray-50">
                                    <div className="text-left">
                                        <h3 className="font-bold text-gray-800">ğŸŒ± ç°¡å–® (Simple)</h3>
                                        <p className="text-xs text-gray-500 mt-1">åŸºç¤è§€å¿µèˆ‡å®šç¾©</p>
                                    </div>
                                    <span className="text-gray-300">&rarr;</span>
                                </button>
                                <button onClick={() => startQuiz('general')} className="w-full bg-white p-5 rounded-xl shadow-sm border-l-4 border-blue-400 flex items-center justify-between active:bg-gray-50">
                                    <div className="text-left">
                                        <h3 className="font-bold text-gray-800">ğŸŒ¿ ä¸€èˆ¬ (General)</h3>
                                        <p className="text-xs text-gray-500 mt-1">å¯¦å‹™æ“ä½œèˆ‡è¨ˆç®—</p>
                                    </div>
                                    <span className="text-gray-300">&rarr;</span>
                                </button>
                                <button onClick={() => startQuiz('difficult')} className="w-full bg-white p-5 rounded-xl shadow-sm border-l-4 border-red-400 flex items-center justify-between active:bg-gray-50">
                                    <div className="text-left">
                                        <h3 className="font-bold text-gray-800">ğŸŒ² å›°é›£ (Difficult)</h3>
                                        <p className="text-xs text-gray-500 mt-1">é€²éšæ¡ˆä¾‹åˆ†æ</p>
                                    </div>
                                    <span className="text-gray-300">&rarr;</span>
                                </button>
                            </div>

                            {localHistory.length > 0 && (
                                <div className="bg-white rounded-xl shadow-sm p-4">
                                    <h3 className="font-bold text-gray-700 text-sm mb-3">æœ€è¿‘æ¸¬é©—ç´€éŒ„</h3>
                                    <div className="space-y-2">
                                        {localHistory.slice(0, 3).map((h, i) => (
                                            <div key={i} className="flex justify-between items-center text-sm border-b pb-2 last:border-0">
                                                <span className="text-gray-500 text-xs">{h.date.split(' ')[0]}</span>
                                                <span className={`px-2 py-0.5 rounded text-xs ${h.level==='simple'?'bg-green-100 text-green-800':h.level==='general'?'bg-blue-100 text-blue-800':'bg-red-100 text-red-800'}`}>{h.level}</span>
                                                <span className={`font-bold ${h.score>=70?'text-green-600':'text-red-500'}`}>{h.score}åˆ†</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            // 3. å­¸å“¡æ¸¬é©—ä¸­
            if (view === 'student_quiz') {
                return (
                    <div className="min-h-screen bg-slate-50 flex flex-col">
                        <div className="bg-white shadow-sm p-4 sticky top-0 z-10 flex justify-between items-center">
                            <span className="font-bold text-gray-700">æ¸¬é©—ä¸­ ({Object.keys(answers).length}/10)</span>
                            <button onClick={() => setView('student_menu')} className="text-gray-400">é€€å‡º</button>
                        </div>
                        
                        <div className="flex-grow p-4 space-y-6 max-w-lg mx-auto w-full">
                            {quizQuestions.map((q, idx) => (
                                <div key={q.id} className="bg-white p-5 rounded-xl shadow-sm">
                                    <div className="flex gap-3 mb-4">
                                        <span className="bg-blue-100 text-blue-800 font-bold px-2 py-1 rounded text-xs h-fit">Q{idx + 1}</span>
                                        <h3 className="font-bold text-gray-800 text-base">{q.question}</h3>
                                    </div>
                                    <div className="space-y-3">
                                        {q.options.map((opt, i) => (
                                            <label key={i} className="flex items-center gap-3 p-3 rounded-lg border border-gray-200 cursor-pointer transition-all active:bg-blue-50 relative overflow-hidden">
                                                <input type="radio" name={`q-${q.id}`} className="custom-radio w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500 hidden" 
                                                    checked={answers[q.id] === opt} onChange={() => setAnswers({...answers, [q.id]: opt})} />
                                                <div className={`w-full h-full absolute top-0 left-0 transition-colors ${answers[q.id] === opt ? 'bg-blue-50 border-2 border-blue-500' : ''} -z-10 rounded-lg`}></div>
                                                <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center bg-white ${answers[q.id] === opt ? 'border-blue-500' : 'border-gray-300'}`}>
                                                    {answers[q.id] === opt && <div className="w-3 h-3 bg-blue-500 rounded-full"></div>}
                                                </div>
                                                <span className={`text-sm ${answers[q.id] === opt ? 'text-blue-900 font-bold' : 'text-gray-600'}`}>{opt}</span>
                                            </label>
                                        ))}
                                    </div>
                                </div>
                            ))}
                        </div>

                        <div className="p-4 bg-white border-t sticky bottom-0">
                            <button onClick={submitQuiz} disabled={Object.keys(answers).length < 10}
                                className={`w-full py-3 rounded-xl font-bold text-white shadow-lg transition-all ${Object.keys(answers).length < 10 ? 'bg-gray-300' : 'bg-green-600 active:scale-95'}`}>
                                {Object.keys(answers).length < 10 ? `é‚„æœ‰ ${10 - Object.keys(answers).length} é¡Œæœªå®Œæˆ` : 'æäº¤è©¦å·'}
                            </button>
                        </div>
                    </div>
                );
            }

            // 4. å­¸å“¡çµæœ (å«æ‰‹æ©Ÿä¸‹è¼‰æç¤º)
            if (view === 'student_result') {
                const result = localHistory[0];
                return (
                    <div className="min-h-screen bg-slate-50 p-4">
                        <div className="max-w-lg mx-auto space-y-4 animate-slide-up">
                            <div className="bg-white p-6 rounded-2xl shadow text-center">
                                <div className="text-5xl mb-2">{result.score >= 70 ? 'ğŸ‰' : 'ğŸ’ª'}</div>
                                <h2 className="text-3xl font-black text-gray-800">{result.score}åˆ†</h2>
                                <p className={`font-bold mt-1 ${result.score >= 70 ? 'text-green-600' : 'text-red-500'}`}>{result.score >= 70 ? 'é€šéæ¸¬é©—ï¼' : 'è«‹å†åŠ æ²¹'}</p>
                                
                                <div className="mt-6 space-y-3">
                                    <button onClick={downloadMyResult} className="w-full py-3 bg-blue-600 text-white rounded-xl font-bold shadow active:scale-95 flex items-center justify-center gap-2">
                                        <Download className="w-5 h-5" /> ä¸‹è¼‰æˆç¸¾æª” (äº¤çµ¦ç®¡ç†å“¡)
                                    </button>
                                    <div className="text-xs text-gray-400 bg-gray-50 p-3 rounded-lg text-left leading-relaxed">
                                        <p className="font-bold mb-1">ğŸ“± æ‰‹æ©Ÿä¸‹è¼‰æç¤ºï¼š</p>
                                        <ul className="list-disc pl-4 space-y-1">
                                            <li><strong>iPhone (Safari)</strong>ï¼šé»é¸å¾Œè«‹é¸æ“‡ã€Œä¸‹è¼‰ã€ï¼Œæª”æ¡ˆæœƒå„²å­˜åœ¨ã€Œæª”æ¡ˆã€App çš„ã€Œä¸‹è¼‰é …ç›®ã€ä¸­ã€‚</li>
                                            <li><strong>Android</strong>ï¼šæª”æ¡ˆæœƒç›´æ¥å„²å­˜è‡³ã€ŒDownloadsã€è³‡æ–™å¤¾ã€‚</li>
                                        </ul>
                                    </div>
                                    <button onClick={() => setView('student_menu')} className="w-full py-3 border border-gray-300 text-gray-600 rounded-xl font-bold">å›é¦–é </button>
                                </div>
                            </div>

                            <div className="bg-white rounded-2xl shadow p-4">
                                <h3 className="font-bold text-gray-800 mb-4 border-l-4 border-blue-500 pl-2">è§£æ</h3>
                                <div className="space-y-4">
                                    {result.details.map((item, idx) => (
                                        <div key={idx} className={`p-4 rounded-xl border ${item.isCorrect ? 'bg-green-50 border-green-100' : 'bg-red-50 border-red-100'}`}>
                                            <div className="flex justify-between mb-2">
                                                <span className="font-bold text-sm text-gray-700">Q{idx + 1}</span>
                                                {item.isCorrect ? <CheckCircle className="w-5 h-5 text-green-600" /> : <AlertCircle className="w-5 h-5 text-red-500" />}
                                            </div>
                                            <p className="text-sm font-bold text-gray-800 mb-2">{item.question}</p>
                                            <p className="text-xs text-gray-500 mb-1">æ­£è§£ï¼š{item.correctAnswer}</p>
                                            <p className="text-xs text-gray-600 bg-white/50 p-2 rounded">{item.explanation}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // 5. ç®¡ç†å“¡å¾Œå° (ä¿æŒåŸåŠŸèƒ½ï¼Œç¨å¾®å„ªåŒ–æ’ç‰ˆ)
            if (view === 'manager_dashboard') {
                return (
                    <div className="min-h-screen bg-slate-100 p-4">
                        <div className="max-w-4xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col h-[calc(100vh-2rem)]">
                            <div className="p-5 border-b bg-gray-50 flex justify-between items-center">
                                <div>
                                    <h2 className="text-xl font-bold text-gray-800">ç®¡ç†å“¡å¾Œå°</h2>
                                    <p className="text-xs text-gray-500">å·²åŒ¯å…¥ {managerData.length} ç­†è³‡æ–™</p>
                                </div>
                                <button onClick={() => setView('login')} className="text-sm text-gray-500">ç™»å‡º</button>
                            </div>

                            <div className="p-5 grid grid-cols-1 md:grid-cols-2 gap-4 bg-white">
                                <label className="flex flex-col items-center justify-center p-6 border-2 border-dashed border-blue-300 rounded-xl bg-blue-50 cursor-pointer hover:bg-blue-100 transition">
                                    <Upload className="w-8 h-8 text-blue-500 mb-2" />
                                    <span className="font-bold text-blue-600">åŒ¯å…¥å­¸å“¡æˆç¸¾æª” (å¯å¤šé¸)</span>
                                    <span className="text-xs text-blue-400 mt-1">æ”¯æ´ .json æ ¼å¼</span>
                                    <input type="file" multiple accept=".json" onChange={handleImport} className="hidden" />
                                </label>
                                <button onClick={exportManagerCSV} disabled={managerData.length === 0} className="flex flex-col items-center justify-center p-6 border-2 border-green-300 rounded-xl bg-green-50 hover:bg-green-100 transition disabled:opacity-50 disabled:cursor-not-allowed">
                                    <Download className="w-8 h-8 text-green-600 mb-2" />
                                    <span className="font-bold text-green-700">åŒ¯å‡ºç¸½å ±è¡¨ (CSV)</span>
                                    <span className="text-xs text-green-500 mt-1">Excel å¯è®€å–</span>
                                </button>
                            </div>

                            <div className="flex-grow overflow-auto p-0">
                                <table className="w-full text-sm text-left">
                                    <thead className="bg-gray-100 text-gray-600 sticky top-0">
                                        <tr>
                                            <th className="p-3">å§“å</th>
                                            <th className="p-3">éƒ¨é–€</th>
                                            <th className="p-3">åˆ†æ•¸</th>
                                            <th className="p-3">çµæœ</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y">
                                        {managerData.map((row, i) => (
                                            <tr key={i}>
                                                <td className="p-3 font-bold">{row.name}</td>
                                                <td className="p-3 text-gray-500">{row.dept}</td>
                                                <td className="p-3 font-bold">{row.score}</td>
                                                <td className="p-3">
                                                    {row.score >= 70 ? <span className="text-green-600 bg-green-100 px-2 py-1 rounded text-xs">é€šé</span> : <span className="text-red-500 bg-red-100 px-2 py-1 rounded text-xs">æœªé€šé</span>}
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                                {managerData.length === 0 && <p className="text-center text-gray-400 py-10">å°šç„¡è³‡æ–™ï¼Œè«‹å…ˆåŒ¯å…¥å­¸å“¡æˆç¸¾æª”</p>}
                            </div>
                        </div>
                    </div>
                );
            }

            return null;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>